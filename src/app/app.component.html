<div class="wrapper ">

    <app-categories
            (selectCategory)="onSelectCategory($event)"

            (deleteCategory)="onDeleteCategory($event)"
            (updateCategory)="onUpdateCategory($event)"
            (addCategory)="onAddCategory($event)"
            (searchCategory)="onSearchCategory($event)"
            [categoryMap]="categoryMap"
            [uncompletedTotal] = "uncompletedTotalTasksCount"

            [selectedCategory]="selectedCategory"
            [categories]="categories"></app-categories>

    <div class="main-panel">

        <nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top ">

            <app-header
                    [categoryName]="selectedCategory ? selectedCategory.title: 'Все'"
                    (toggleStat)="toggleStat($event)"
                    [showStat]="showStat"
                >

            </app-header>

        </nav>

        <div class="content">
            <div class="container-fluid">

                <app-stat
                    [totalTasksInCategory]="totalTasksCountInCategory"
                    [completeTasksInCategory]="completedCountInCategory"
                    [uncompleteTasksInCategory]="uncompletedCountInCategory"
                    [showStat]="showStat"
                ></app-stat>

                <div class="row">
                    <div class="col-12">
                        <app-tasks (updateTask)="onUpdateTask($event)"
                                   (deleteTask)="onDeleteTask($event)"
                                   (selectCategory)="onSelectCategory($event)"
                                   (addTask)="onAddTask($event)"

                                   [selectedCategory]="selectedCategory"
                                   (filterByStatus)="onFilterTasksByStatus($event)"
                                   (filterByTitle)="onSearchTasks($event)"
                                   (filterByPriority)="onFilterTasksByPriority($event)"

                                   [tasks]="tasks"
                                   [priorities]="priorities"

                        ></app-tasks>
                    </div>
                </div>
            </div>
        </div>

        <app-footer></app-footer>

    </div>
</div>
